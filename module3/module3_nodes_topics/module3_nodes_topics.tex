% !TEX TS-program = xelatex
% !TEX encoding = UTF-8 Unicode

% Tennessee Technological University
% ME4140 - Fall 2016 - Fall 2017 - ? - Fall 2019 - Fall 2020 
% Tristan Hill - August 08, 2020
% Module 3 - Nodes Topics

\documentclass[fleqn]{beamer} % for presentation (has nav buttons at bottom)

% custom preamble
\usepackage{/home/thill/Documents/lectures/ros_lectures/ros_module}

\newcommand{\MNUM}{3\hspace{2mm}} % Module number
\newcommand{\TNUM}{---\hspace{2mm}} % Topic number - single topic for now
\newcommand{\moduletitle}{Nodes and Topics} % Titles and Stuff
%\newcommand{\topictitle}{---} 

\newcommand{\sectiontitleI}{Components of a ROS system} % More Titles and Stuff
\newcommand{\sectiontitleII}{Communication and Message Passing}
\newcommand{\sectiontitleIII}{Software Packages}
\newcommand{\sectiontitleIV}{Tutorial 3 - Turtlesim}

\author{ME4140 - ROS Workshop}
\title{\GD Module \MNUM - \moduletitle}
\date{Mechanical Engineering\vspc Tennessee Technological University}

\begin{document}

\lstset{language=MATLAB,basicstyle=\ttfamily\small,showstringspaces=false}

\frame{\titlepage \center\begin{framed}\Large \textbf{Module \MNUM - \moduletitle}\end{framed} \vspace{5mm}}

% Section 0 - Outline
\frame{
	
	\large \textbf{Module \MNUM - \moduletitle} \vspace{3mm}\\
	
	\begin{itemize}
	
		\item \hyperlink{sectionI}{\color{black}\sectiontitleI}	\vspace{3mm} % Section I
		\item \hyperlink{sectionII}{\color{black}\sectiontitleII}	\vspace{3mm} % Section II
		\item \hyperlink{sectionIII}{\color{black}\sectiontitleIII}	\vspace{3mm} %Section III
		\item \hyperlink{sectionIV}{\color{black}\sectiontitleIV}	\vspace{3mm} %Section IV
		%\item \hyperlink{sectionV}{\color{black}\sectiontitleV} %Section IV	
	
	\end{itemize}

}

\section{\sectiontitleI}

	% Section I - Frame I
	\begin{frame}[label=sectionI,containsverbatim] \small
		\frametitle{\sectiontitleI}
             
            \href{http://wiki.ros.org/Master}{Master Node}
                \begin{itemize}
                    \item {\it The ROS Master provides naming and registration services to the rest of the nodes in the ROS system.}** 
                    \item master node runs first 

           			\begin{minted}{text}
roscore
					\end{minted}
		
					\item for distributed computing use single master		
					
           			\begin{minted}{text}
ROS_MASTER_URI=http://12345
					\end{minted}

                \end{itemize}

	\end{frame}


	% Section I - Frame II
	\begin{frame}[containsverbatim] \small
		\frametitle{\sectiontitleI}
\href{http://wiki.ros.org/Nodes}{Nodes}             
                \begin{itemize}
                    \item {\it A node is a process that performs computation.}** 
                    \item each 'program' or 'element' of the robot is a node. Examples:
                        \begin{itemize} 
                        \begin{multicols}{2}    
                        
                            \item sensor
                            \item hardware driver    
                            \item navigation 
                            \item keyboard or joystick        
                            
                        \end{multicols}
                        \end{itemize}
                    \item start or run node individually after master\vspace{5mm}\\
                    \begin{minted}{text}
rosrun <packagename> <nodename> <options> 
                    \end{minted} 
                    \vspace{1mm}\\
                  
                                      
                \end{itemize}
	\end{frame}

\section{\sectiontitleII}

	% Section II - Frame I
	\begin{frame}[label=sectionII,containsverbatim] \small
		\frametitle{\sectiontitleII}
		
                  {\large  Nodes can communicate in three different ways. }
                        \begin{itemize}
                            \item \href{http://wiki.ros.org/Topics}{\underline{topics}} - publishing and subscribing 
                            \begin{minted}{text}
rostopic                             
                            \end{minted}
                            \item \href{http://wiki.ros.org/Parameter\%20Serverparameters}{\underline{parameter server}} - static data 
                            \begin{minted}{text}
rosparam                        
                            \end{minted}
                            \item \href{http://wiki.ros.org/Services}{\underline{services}} - subroutine call (RPC) \begin{minted}{text}
rosservice                      
                            \end{minted}
                        \end{itemize}    


	\end{frame}

	% Section II - Frame II
	\begin{frame}[containsverbatim] \small
		\frametitle{\sectiontitleII}

\href{http://wiki.ros.org/Topics}{\bf Topics:} ROS nodes can communicate by {\bf publishing} and {\bf subscribing} to topics. A topic is information generated by a publishing node that is made available to a subscribing node or nodes in the ROS system.
        
        \begin{itemize}		
            \item A node can publish a topic. This node is a publisher.    	
            \item A node can subscribe to a topic. This node is a subscriber.
            \item Most nodes publish and subscribe to multiple topics. 
            \item Integrate built-in ROS nodes and modify your own ROS nodes in C++, Python, and even MATLAB
            
        \end{itemize}
        
	\end{frame}

\section{\sectiontitleIII}

	% Section II - Frame I
	\begin{frame}[label=sectionIII] \small
		\frametitle{\sectiontitleIII}
		
		{\large In general, software is organized in \href{http://wiki.ros.org/Packages}{packages}}

                \begin{itemize}
					\item Definition: A suite of programs that function as a single entity to accomplish a task, or group of related tasks.                           
                                                       
                
                    \item {\it Software in ROS is organized in packages. A package might contain ROS nodes, a ROS-independent library, a dataset, configuration files, a third-party piece of software, or anything else that logically constitutes a useful module.}** 
                    \item a collection of related nodes, each node belongs to a package
                     \item many pre-built packages with ros installation: {\fontfamily{qcr}\selectfont  {\bf -desktop-full}}
                          \end{itemize}           
	\end{frame}
% Section II - Frame II
	\begin{frame}[containsverbatim] \small
		\frametitle{\sectiontitleIII}
				
		{\large Installing \href{http://wiki.ros.org/Packages}{Packages} in Linux with package manager {\fontfamily{qcr}\selectfont {\bf apt}} }                                  
                    \begin{itemize}

 					\item update Ubuntu before installing software packages \\					
					\begin{minted}{text}
sudo apt update
					\end{minted}  
                   
                    \item install pre-built packages from repository \\
                    
					\begin{minted}{text}
sudo apt install ros-<distribution>-<packagename>
					\end{minted}  

\item remove installed packages from repository \\
                    
					\begin{minted}{text}
sudo apt remove ros-<distribution>-<packagename>
					\end{minted} 
                 
                
                \end{itemize}      

}


\section{\sectiontitleIV}	
	% Section V - Frame I
	            \begin{frame}[label=sectionIV] \small
		\frametitle{\sectiontitleIV}    
	
 \setbeamertemplate{itemize items}[triangle]
                \begin{itemize}

					\item {\bf Overview:} ROS runs on Linux! Your first exercise is to setup your computer so that you can begin learning ROS. 		

					\item {\bf Assignment:} Complete the tutorial in the document {\it tutorial3\_turtlesim.pdf} on ilearn. You must be able to drive your turtle around the screen.
                    
                    \item {\bf Deliverable:} Write a one to two paragraph summary of what you accomplished and what you struggled with the most. Include an image of the turtlesim window after you have driven a pattern. 
    
                    \item {\bf Next Week:} After completion of Module 3, you are ready for a better robot. You will learn to use a simulated turtlebot3 in a Gazebo simulator. \vspc
                    
       
                \end{itemize}
		\end{frame}

\end{document}


%
%\begin{description}
%
%    \item [I. Components] The major building blocks of a ROS system
%
%        \begin{enumerate}
%                
%            \item \href{http://wiki.ros.org/Master}{Master Node}
%                \begin{itemize}
%                    \item {\it The ROS Master provides naming and registration services to the rest of the nodes in the ROS system.}** 
%                    \item master node runs first  {\fontfamily{qcr}\selectfont  \hspace{5mm} \$ roscore } \\
%                    \item core of the system or robot {\fontfamily{qcr}\selectfont  \hspace{5mm} \$ ROS\_MASTER\_URI=http://12345 } \\
%                    
%
%                \end{itemize}
%            
%            \item \href{http://wiki.ros.org/Nodes}{Nodes}             
%                \begin{itemize}
%                    \item {\it A node is a process that performs computation.}** 
%                    \item each 'program' or 'element' of the robot is a node\\examples:
%                        \begin{itemize} 
%                        \begin{multicols}{2}    
%                        
%                            \item sensor
%                            \item hardware driver    
%                            \item navigation 
%                            \item keyboard or joystick        
%                            
%                        \end{multicols}
%                        \end{itemize}
%                    \item start or run node individually after master\vspace{5mm}\\
%                    {\fontfamily{qcr}\selectfont  \hspace{5mm} \$ rosrun <packagename> <nodename> <options> } \vspace{1mm}\\
%                  
%                    \item all nodes are registered to the master and communicate in different ways
%                        \begin{itemize}
%                            \item  \href{http://wiki.ros.org/Topics}{topics} - publishing and subscribing
%                            \item \href{http://wiki.ros.org/Parameter%20Serverparameters}{parameter server} - static data
%                            \item \href{http://wiki.ros.org/Services}{services} - subroutine call
%                        \end{itemize}    
%                                      
%                \end{itemize}
%                
%            \item \href{http://wiki.ros.org/Packages}{Packages} 
%
%                \begin{itemize}
%                    \item {\it Software in ROS is organized in packages. A package might contain ROS nodes, a ROS-independent library, a dataset, configuration files, a third-party piece of software, or anything else that logically constitutes a useful module.}** 
%                    \item a collection of related nodes, each node belongs to a package
%                                     
%                    \item pre-built packages available with ros installation {\fontfamily{qcr}\selectfont  \hspace{5mm} -desktop-full}
%                    \item pre-built packages available for installation \\
%                    \begin{description}
%                        \item[apt] {\fontfamily{qcr}\selectfont  \hspace{1mm} \$ sudo apt-get install ros-<distribution>-<packagename> } 
%                        \item[rosdep]{\fontfamily{qcr}\selectfont  \hspace{1mm} \$ rosdep install <packagename> } \\
%                    \end{description}
%                    \item update ubuntu before installing anything \\
%                    {\fontfamily{qcr}\selectfont  \hspace{2mm} \$ sudo apt-get update } \\
%                    {\fontfamily{qcr}\selectfont  \hspace{2mm} \$ sudo apt-get check }                
%                \end{itemize}            
%
%                
%                
%    \end{enumerate}
%    ** from (ros.org)
%    \newpage
%    
%    \item [II. The Graph of the System] ROS works on a system of interconnected nodes. It is very useful to visualize this in a graph.\\
%        \begin{enumerate}   
%            
%            \item \href{http://wiki.ros.org/rqt_graph}{RQT Graph} A very useful tool. A node {\it rqt\_graph} in a package {\it rqt\_graph}. \\\\
%                    {\fontfamily{qcr}\selectfont  \hspace{5mm} \$ rosrun rqt\_graph rqt\_graph}\\
%            
%            \includegraphics[scale=.4]{ros_basics_fig1.png} \\
%            
%            \item \href{http://wiki.ros.org/rqt_plot}{RQT Plot} A very useful tool. A node {\it rqt\_plot} in a package {\it rqt\_plot}. \\
%                {\fontfamily{qcr}\selectfont  \hspace{5mm} \$ rosrun rqt\_plot rqt\_plot}\\
%            
%            \includegraphics[scale=.5]{ros_basics_fig2.png} \\    
%          \end{enumerate}       
%
%
%\newpage
%    
%    \item [III. Topics, Publishers, and Subscribers] The nodes in a ROS system communicate.  
%        \begin{enumerate}   
%           \item \href{http://wiki.ros.org/Topics}{Topics} 
%                    \begin{itemize}
%                        \item data available to nodes in the system
%                        \item each topic has a name    
%                        \item data is stored and transferred in standard ros data types
%                        \item generally data is streaming, but does not have to be
%                    \end{itemize}    
%           \item \href{http://wiki.ros.org/ROS/Tutorials/WritingPublisherSubscriber(c++)}{Publishers}
%                    \begin{itemize}
%      
%                        \item data produced by a node can be shared with the system by publishing a topic
%                        \item a node which outputs topic data is a publisher
%                        \item a node may publish multiple topics 
%                        
%                        \end{itemize}  
%            \item \href{http://wiki.ros.org/ROS/Tutorials/WritingPublisherSubscriber(c++)}{Subscribers}
%                \begin{itemize}
%      
%                        \item a registered node can access the data in a topic by subscribing to a topic
%                        \item a node which gets topic data as input is a subscriber
%                        \item a node may subscribe to multiple topics 
%                    \end{itemize}  
%                    
%            \item \href{http://wiki.ros.org/rostopic}{rostopic}                    
%                \begin{itemize}   
%                    \item a very useful tool, a built in package 
%                    \item used differently than other packages, does not require rosrun
%                    \item a set of different tools
%                    \begin{description}   
%                        \item [list] {\fontfamily{qcr}\selectfont  \hspace{5mm} \$ rostopic list}\\
%                        \item [echo] {\fontfamily{qcr}\selectfont  \hspace{5mm} \$ rostopic echo /topicname}\\
%                        \item [type] {\fontfamily{qcr}\selectfont  \hspace{5mm} \$ rostopic pub /topicname}\\
%                    \end{description}  
%                \end{itemize}    
%                    \item  \href{http://wiki.ros.org/msg}{data types} - topics are published in standard types called messages
%                    \begin{itemize}
%                        \item {\fontfamily{qcr}\selectfont  \hspace{5mm} std\textunderscore msgs/int32 }
%                        \item {\fontfamily{qcr}\selectfont  \hspace{5mm} std\textunderscore msgs/float32 }\\
%                        
%                        \item {\fontfamily{qcr}\selectfont  \hspace{5mm} geometry\textunderscore msgs/Point }
%                        \item {\fontfamily{qcr}\selectfont  \hspace{5mm} geometry\textunderscore msgs/Pose }\\
%                        
%                        \item {\fontfamily{qcr}\selectfont  \hspace{5mm} nav\textunderscore msgs/Odometry }
%                        \item {\fontfamily{qcr}\selectfont  \hspace{5mm} nav\textunderscore msgs/Path }\\
%                    \end{itemize}
%                    
%                    \item let show an example now!
%                                      
%        \end{enumerate}     
%\newpage
%    
%%    \item [IV. Services] The nodes in a ROS system can also communicate through services. Thsi is for reply/request type operations.  
%%  \begin{enumerate} 
%%\item \href{http://wiki.ros.org/Services}{Services}
%%\end{enumerate}    
%%\newpage
%    
%
%\end{description}
%\end{document}
%
